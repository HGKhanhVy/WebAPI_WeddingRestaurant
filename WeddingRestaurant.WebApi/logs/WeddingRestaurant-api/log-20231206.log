2023-12-06T22:10:00.1408751+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("201"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE DATABASE [DB_WeddingRestaurant];"
2023-12-06T22:10:01.4589041+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1,274"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [DB_WeddingRestaurant] SET READ_COMMITTED_SNAPSHOT ON;
END;"
2023-12-06T22:10:01.4804485+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""SELECT 1"
2023-12-06T22:10:01.5688345+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);"
2023-12-06T22:10:01.5700840+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""SELECT 1"
2023-12-06T22:10:01.5916660+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2023-12-06T22:10:01.6080385+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2023-12-06T22:10:01.6234419+07:00 [INF] (Microsoft.EntityFrameworkCore.Migrations) Applying migration '"20231206150946_UpdateDB"'.
2023-12-06T22:10:01.7153126+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [KhachHang] (
    [MaKhachHang] nvarchar(450) NOT NULL,
    [TenKhachHang] nvarchar(max) NOT NULL,
    [SoDienThoai] nvarchar(max) NOT NULL,
    [NgaySinh] nvarchar(max) NOT NULL,
    [CCCD] nvarchar(max) NOT NULL,
    [Gmail] nvarchar(max) NOT NULL,
    [MatKhau] nvarchar(max) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_KhachHang] PRIMARY KEY ([MaKhachHang])
);"
2023-12-06T22:10:01.7173478+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [LoaiDichVu] (
    [MaLoaiDichVu] nvarchar(450) NOT NULL,
    [TenLoaiDichVu] nvarchar(max) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_LoaiDichVu] PRIMARY KEY ([MaLoaiDichVu])
);"
2023-12-06T22:10:01.7197525+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [LoaiMonAn] (
    [MaLoaiMonAn] nvarchar(450) NOT NULL,
    [TenLoaiMon] nvarchar(max) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_LoaiMonAn] PRIMARY KEY ([MaLoaiMonAn])
);"
2023-12-06T22:10:01.7327126+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [LoaiNuoc] (
    [MaLoaiNuoc] nvarchar(450) NOT NULL,
    [TenLoaiNuoc] nvarchar(max) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_LoaiNuoc] PRIMARY KEY ([MaLoaiNuoc])
);"
2023-12-06T22:10:01.7348835+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [Menu] (
    [MaMenu] nvarchar(450) NOT NULL,
    [TenMenu] nvarchar(max) NOT NULL,
    [DonGiaMenu] float NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_Menu] PRIMARY KEY ([MaMenu])
);"
2023-12-06T22:10:01.7651761+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [NguoiDung] (
    [userName] nvarchar(450) NOT NULL,
    [password] nvarchar(max) NOT NULL,
    [quyen] nvarchar(max) NOT NULL,
    [hoTen] nvarchar(max) NOT NULL,
    [sdt] nvarchar(max) NOT NULL,
    [email] nvarchar(max) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_NguoiDung] PRIMARY KEY ([userName])
);"
2023-12-06T22:10:01.7681900+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [NhanVien] (
    [MaNhanVien] nvarchar(450) NOT NULL,
    [TenNhanVien] nvarchar(max) NOT NULL,
    [SoDienThoai] nvarchar(max) NOT NULL,
    [NgaySinh] nvarchar(max) NOT NULL,
    [CCCD] nvarchar(max) NOT NULL,
    [Gmail] nvarchar(max) NOT NULL,
    [NgayVaoLam] nvarchar(max) NOT NULL,
    [NgayNghiViec] nvarchar(max) NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_NhanVien] PRIMARY KEY ([MaNhanVien])
);"
2023-12-06T22:10:01.7700392+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [Sanh] (
    [MaSanh] nvarchar(450) NOT NULL,
    [TenSanh] nvarchar(max) NOT NULL,
    [HinhAnh] nvarchar(max) NOT NULL,
    [SucChuaToiThieu] int NOT NULL,
    [SucChuaToiDa] int NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_Sanh] PRIMARY KEY ([MaSanh])
);"
2023-12-06T22:10:01.7724603+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [Token] (
    [IDToken] nvarchar(450) NOT NULL,
    [AccessToken] nvarchar(max) NOT NULL,
    [RefreshToken] nvarchar(max) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_Token] PRIMARY KEY ([IDToken])
);"
2023-12-06T22:10:01.7761311+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [DanhGia] (
    [MaDanhGia] nvarchar(450) NOT NULL,
    [NoiDungDanhGia] nvarchar(max) NOT NULL,
    [MaKhachHang] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_DanhGia] PRIMARY KEY ([MaDanhGia]),
    CONSTRAINT [FK_DanhGia_KhachHang_MaKhachHang] FOREIGN KEY ([MaKhachHang]) REFERENCES [KhachHang] ([MaKhachHang]) ON DELETE CASCADE
);"
2023-12-06T22:10:01.7793681+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [DatTiec] (
    [MaTiec] nvarchar(450) NOT NULL,
    [LoaiHinhTiec] nvarchar(max) NOT NULL,
    [NgayDatTiec] datetime2 NOT NULL,
    [NgayToChuc] nvarchar(max) NOT NULL,
    [ThoiGianToChuc] nvarchar(max) NOT NULL,
    [SoLuongBanChinhThuc] int NOT NULL,
    [SoLuongBanTang] int NOT NULL,
    [SoLuongBanChay] int NOT NULL,
    [SoLuongBanDuPhong] int NOT NULL,
    [TongBanSetup] int NOT NULL,
    [LoaiBan] nvarchar(max) NOT NULL,
    [PhiDichVu] float NOT NULL,
    [TongTienDuKien] float NULL,
    [TongTienGiam] float NULL,
    [TongTienPhaiTra] float NULL,
    [TienCocLan1] float NULL,
    [TienCocLan2] float NULL,
    [GhiChu] nvarchar(max) NULL,
    [MaKhachHang] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_DatTiec] PRIMARY KEY ([MaTiec]),
    CONSTRAINT [FK_DatTiec_KhachHang_MaKhachHang] FOREIGN KEY ([MaKhachHang]) REFERENCES [KhachHang] ([MaKhachHang]) ON DELETE CASCADE
);"
2023-12-06T22:10:02.1643306+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [DichVu] (
    [MaDichVu] nvarchar(450) NOT NULL,
    [TenDichVu] nvarchar(max) NOT NULL,
    [HinhAnh] nvarchar(max) NOT NULL,
    [MoTa] nvarchar(max) NOT NULL,
    [MaLoaiDichVu] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_DichVu] PRIMARY KEY ([MaDichVu]),
    CONSTRAINT [FK_DichVu_LoaiDichVu_MaLoaiDichVu] FOREIGN KEY ([MaLoaiDichVu]) REFERENCES [LoaiDichVu] ([MaLoaiDichVu]) ON DELETE CASCADE
);"
2023-12-06T22:10:02.1672044+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [MonAn] (
    [MaMonAn] nvarchar(450) NOT NULL,
    [TenMonAn] nvarchar(max) NOT NULL,
    [DonGia] float NOT NULL,
    [HinhAnh] nvarchar(max) NOT NULL,
    [DVT] nvarchar(max) NOT NULL,
    [MaLoaiMonAn] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_MonAn] PRIMARY KEY ([MaMonAn]),
    CONSTRAINT [FK_MonAn_LoaiMonAn_MaLoaiMonAn] FOREIGN KEY ([MaLoaiMonAn]) REFERENCES [LoaiMonAn] ([MaLoaiMonAn]) ON DELETE CASCADE
);"
2023-12-06T22:10:02.1698182+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [Nuoc] (
    [MaNuoc] nvarchar(450) NOT NULL,
    [TenNuoc] nvarchar(max) NOT NULL,
    [DVT] nvarchar(max) NOT NULL,
    [HinhAnh] nvarchar(max) NOT NULL,
    [DonGia] float NOT NULL,
    [MaLoaiNuoc] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_Nuoc] PRIMARY KEY ([MaNuoc]),
    CONSTRAINT [FK_Nuoc_LoaiNuoc_MaLoaiNuoc] FOREIGN KEY ([MaLoaiNuoc]) REFERENCES [LoaiNuoc] ([MaLoaiNuoc]) ON DELETE CASCADE
);"
2023-12-06T22:10:02.1717864+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [AccessToken] (
    [Token] nvarchar(max) NOT NULL,
    [StrTokenIDToken] nvarchar(450) NULL,
    [userName] nvarchar(450) NOT NULL,
    [IsUsed] bit NOT NULL,
    [IsRevoked] bit NOT NULL,
    [ExpireAt] datetime2 NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [FK_AccessToken_NguoiDung_userName] FOREIGN KEY ([userName]) REFERENCES [NguoiDung] ([userName]) ON DELETE CASCADE,
    CONSTRAINT [FK_AccessToken_Token_StrTokenIDToken] FOREIGN KEY ([StrTokenIDToken]) REFERENCES [Token] ([IDToken])
);"
2023-12-06T22:10:02.1764010+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [RefreshToken] (
    [Token] nvarchar(450) NOT NULL,
    [userName] nvarchar(450) NOT NULL,
    [StrTokenIDToken] nvarchar(450) NULL,
    [JwtID] nvarchar(max) NOT NULL,
    [IsUsed] bit NOT NULL,
    [IsRevoked] bit NOT NULL,
    [ExpireAt] datetime2 NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_RefreshToken] PRIMARY KEY ([Token], [userName]),
    CONSTRAINT [FK_RefreshToken_NguoiDung_userName] FOREIGN KEY ([userName]) REFERENCES [NguoiDung] ([userName]) ON DELETE CASCADE,
    CONSTRAINT [FK_RefreshToken_Token_StrTokenIDToken] FOREIGN KEY ([StrTokenIDToken]) REFERENCES [Token] ([IDToken])
);"
2023-12-06T22:10:05.4991932+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [ChiTietMenu] (
    [MaTiec] nvarchar(450) NOT NULL,
    [MaMenu] nvarchar(450) NOT NULL,
    [SoLuongMenuCuaTiec] int NOT NULL,
    [TongTien] float NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_ChiTietMenu] PRIMARY KEY ([MaTiec], [MaMenu]),
    CONSTRAINT [FK_ChiTietMenu_DatTiec_MaTiec] FOREIGN KEY ([MaTiec]) REFERENCES [DatTiec] ([MaTiec]) ON DELETE CASCADE,
    CONSTRAINT [FK_ChiTietMenu_Menu_MaMenu] FOREIGN KEY ([MaMenu]) REFERENCES [Menu] ([MaMenu]) ON DELETE CASCADE
);"
2023-12-06T22:10:05.5018203+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [HoaDon] (
    [MaHoaDon] nvarchar(450) NOT NULL,
    [NgayLap] nvarchar(max) NOT NULL,
    [TongTienPhuThu] decimal(18,2) NULL,
    [TongTienThanhToan] decimal(18,2) NULL,
    [MaTiec] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_HoaDon] PRIMARY KEY ([MaHoaDon]),
    CONSTRAINT [FK_HoaDon_DatTiec_MaTiec] FOREIGN KEY ([MaTiec]) REFERENCES [DatTiec] ([MaTiec]) ON DELETE CASCADE
);"
2023-12-06T22:10:05.5043366+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [LichSanhTiec] (
    [MaTiec] nvarchar(450) NOT NULL,
    [MaSanh] nvarchar(450) NOT NULL,
    [NgayDienRa] datetime2 NOT NULL,
    [Ca] nvarchar(max) NOT NULL,
    [TienPhuThu] float NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_LichSanhTiec] PRIMARY KEY ([MaTiec], [MaSanh]),
    CONSTRAINT [FK_LichSanhTiec_DatTiec_MaTiec] FOREIGN KEY ([MaTiec]) REFERENCES [DatTiec] ([MaTiec]) ON DELETE CASCADE,
    CONSTRAINT [FK_LichSanhTiec_Sanh_MaSanh] FOREIGN KEY ([MaSanh]) REFERENCES [Sanh] ([MaSanh]) ON DELETE CASCADE
);"
2023-12-06T22:10:05.5064169+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [NhanVienTrongTiec] (
    [MaTiec] nvarchar(450) NOT NULL,
    [MaNhanVien] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_NhanVienTrongTiec] PRIMARY KEY ([MaTiec], [MaNhanVien]),
    CONSTRAINT [FK_NhanVienTrongTiec_DatTiec_MaTiec] FOREIGN KEY ([MaTiec]) REFERENCES [DatTiec] ([MaTiec]) ON DELETE CASCADE,
    CONSTRAINT [FK_NhanVienTrongTiec_NhanVien_MaNhanVien] FOREIGN KEY ([MaNhanVien]) REFERENCES [NhanVien] ([MaNhanVien]) ON DELETE CASCADE
);"
2023-12-06T22:10:05.5084195+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [DichVuTinhPhi] (
    [MaDichVuTinhPhi] nvarchar(450) NOT NULL,
    [TenDichVu] nvarchar(max) NOT NULL,
    [MoTa] nvarchar(max) NOT NULL,
    [HinhAnh] nvarchar(max) NOT NULL,
    [DonGiaDichVu] float NOT NULL,
    [MaDichVu] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_DichVuTinhPhi] PRIMARY KEY ([MaDichVuTinhPhi]),
    CONSTRAINT [FK_DichVuTinhPhi_DichVu_MaDichVu] FOREIGN KEY ([MaDichVu]) REFERENCES [DichVu] ([MaDichVu]) ON DELETE CASCADE
);"
2023-12-06T22:10:05.5114985+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [DichVuUuDai] (
    [MaDichVuUuDai] nvarchar(450) NOT NULL,
    [TenDichVu] nvarchar(max) NOT NULL,
    [DieuKienApDung] nvarchar(max) NOT NULL,
    [MoTa] nvarchar(max) NOT NULL,
    [HinhAnh] nvarchar(max) NOT NULL,
    [MaDichVu] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_DichVuUuDai] PRIMARY KEY ([MaDichVuUuDai]),
    CONSTRAINT [FK_DichVuUuDai_DichVu_MaDichVu] FOREIGN KEY ([MaDichVu]) REFERENCES [DichVu] ([MaDichVu]) ON DELETE CASCADE
);"
2023-12-06T22:10:05.7444849+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("233"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [MonAnTrongMenu] (
    [MaMenu] nvarchar(450) NOT NULL,
    [MaMonAn] nvarchar(450) NOT NULL,
    [SoLuongMon] int NOT NULL,
    [DonGia] float NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_MonAnTrongMenu] PRIMARY KEY ([MaMenu], [MaMonAn]),
    CONSTRAINT [FK_MonAnTrongMenu_Menu_MaMenu] FOREIGN KEY ([MaMenu]) REFERENCES [Menu] ([MaMenu]) ON DELETE CASCADE,
    CONSTRAINT [FK_MonAnTrongMenu_MonAn_MaMonAn] FOREIGN KEY ([MaMonAn]) REFERENCES [MonAn] ([MaMonAn]) ON DELETE CASCADE
);"
2023-12-06T22:10:08.7023534+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [ChiTietNuocUong] (
    [MaTiec] nvarchar(450) NOT NULL,
    [MaNuoc] nvarchar(450) NOT NULL,
    [SoLuong] int NOT NULL,
    [TongTien] float NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_ChiTietNuocUong] PRIMARY KEY ([MaTiec], [MaNuoc]),
    CONSTRAINT [FK_ChiTietNuocUong_DatTiec_MaTiec] FOREIGN KEY ([MaTiec]) REFERENCES [DatTiec] ([MaTiec]) ON DELETE CASCADE,
    CONSTRAINT [FK_ChiTietNuocUong_Nuoc_MaNuoc] FOREIGN KEY ([MaNuoc]) REFERENCES [Nuoc] ([MaNuoc]) ON DELETE CASCADE
);"
2023-12-06T22:10:08.7050311+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [PhuThu] (
    [MaPhuThu] nvarchar(450) NOT NULL,
    [LoaiPhuThu] nvarchar(max) NOT NULL,
    [MoTaPhuThu] nvarchar(max) NOT NULL,
    [TongTien] float NOT NULL,
    [MaHoaDon] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_PhuThu] PRIMARY KEY ([MaPhuThu]),
    CONSTRAINT [FK_PhuThu_HoaDon_MaHoaDon] FOREIGN KEY ([MaHoaDon]) REFERENCES [HoaDon] ([MaHoaDon]) ON DELETE CASCADE
);"
2023-12-06T22:10:08.7074382+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [ChiTietDichVuTinhPhi] (
    [MaTiec] nvarchar(450) NOT NULL,
    [MaDichVuTinhPhi] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_ChiTietDichVuTinhPhi] PRIMARY KEY ([MaTiec], [MaDichVuTinhPhi]),
    CONSTRAINT [FK_ChiTietDichVuTinhPhi_DatTiec_MaTiec] FOREIGN KEY ([MaTiec]) REFERENCES [DatTiec] ([MaTiec]) ON DELETE CASCADE,
    CONSTRAINT [FK_ChiTietDichVuTinhPhi_DichVuTinhPhi_MaDichVuTinhPhi] FOREIGN KEY ([MaDichVuTinhPhi]) REFERENCES [DichVuTinhPhi] ([MaDichVuTinhPhi]) ON DELETE CASCADE
);"
2023-12-06T22:10:08.7458328+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("38"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [ChiTietDichVuUuDai] (
    [MaTiec] nvarchar(450) NOT NULL,
    [MaDichVuUuDai] nvarchar(450) NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_ChiTietDichVuUuDai] PRIMARY KEY ([MaTiec], [MaDichVuUuDai]),
    CONSTRAINT [FK_ChiTietDichVuUuDai_DatTiec_MaTiec] FOREIGN KEY ([MaTiec]) REFERENCES [DatTiec] ([MaTiec]) ON DELETE CASCADE,
    CONSTRAINT [FK_ChiTietDichVuUuDai_DichVuUuDai_MaDichVuUuDai] FOREIGN KEY ([MaDichVuUuDai]) REFERENCES [DichVuUuDai] ([MaDichVuUuDai]) ON DELETE CASCADE
);"
2023-12-06T22:10:08.8235332+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("78"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [ChiTietPhuThuDichVu] (
    [MaPhuThu] nvarchar(450) NOT NULL,
    [MaDichVuTinhPhi] nvarchar(450) NOT NULL,
    [SoLuong] int NOT NULL,
    [DonGia] float NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_ChiTietPhuThuDichVu] PRIMARY KEY ([MaPhuThu], [MaDichVuTinhPhi]),
    CONSTRAINT [FK_ChiTietPhuThuDichVu_DichVuTinhPhi_MaDichVuTinhPhi] FOREIGN KEY ([MaDichVuTinhPhi]) REFERENCES [DichVuTinhPhi] ([MaDichVuTinhPhi]) ON DELETE CASCADE,
    CONSTRAINT [FK_ChiTietPhuThuDichVu_PhuThu_MaPhuThu] FOREIGN KEY ([MaPhuThu]) REFERENCES [PhuThu] ([MaPhuThu]) ON DELETE CASCADE
);"
2023-12-06T22:10:08.8274866+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [ChiTietPhuThuMonAn] (
    [MaPhuThu] nvarchar(450) NOT NULL,
    [MaMonAn] nvarchar(450) NOT NULL,
    [SoLuong] int NOT NULL,
    [DonGia] float NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_ChiTietPhuThuMonAn] PRIMARY KEY ([MaPhuThu], [MaMonAn]),
    CONSTRAINT [FK_ChiTietPhuThuMonAn_MonAn_MaMonAn] FOREIGN KEY ([MaMonAn]) REFERENCES [MonAn] ([MaMonAn]) ON DELETE CASCADE,
    CONSTRAINT [FK_ChiTietPhuThuMonAn_PhuThu_MaPhuThu] FOREIGN KEY ([MaPhuThu]) REFERENCES [PhuThu] ([MaPhuThu]) ON DELETE CASCADE
);"
2023-12-06T22:10:08.8687733+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("41"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE TABLE [ChiTietPhuThuNuoc] (
    [MaPhuThu] nvarchar(450) NOT NULL,
    [MaNuoc] nvarchar(450) NOT NULL,
    [SoLuong] int NOT NULL,
    [DonGia] float NOT NULL,
    [ThanhTien] float NOT NULL,
    [TrangThai] nvarchar(max) NULL,
    CONSTRAINT [PK_ChiTietPhuThuNuoc] PRIMARY KEY ([MaPhuThu], [MaNuoc]),
    CONSTRAINT [FK_ChiTietPhuThuNuoc_Nuoc_MaNuoc] FOREIGN KEY ([MaNuoc]) REFERENCES [Nuoc] ([MaNuoc]) ON DELETE CASCADE,
    CONSTRAINT [FK_ChiTietPhuThuNuoc_PhuThu_MaPhuThu] FOREIGN KEY ([MaPhuThu]) REFERENCES [PhuThu] ([MaPhuThu]) ON DELETE CASCADE
);"
2023-12-06T22:10:11.9041018+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("105"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_AccessToken_StrTokenIDToken] ON [AccessToken] ([StrTokenIDToken]);"
2023-12-06T22:10:11.9189336+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_AccessToken_userName] ON [AccessToken] ([userName]);"
2023-12-06T22:10:11.9336721+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_ChiTietDichVuTinhPhi_MaDichVuTinhPhi] ON [ChiTietDichVuTinhPhi] ([MaDichVuTinhPhi]);"
2023-12-06T22:10:11.9348948+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_ChiTietDichVuUuDai_MaDichVuUuDai] ON [ChiTietDichVuUuDai] ([MaDichVuUuDai]);"
2023-12-06T22:10:11.9496512+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_ChiTietMenu_MaMenu] ON [ChiTietMenu] ([MaMenu]);"
2023-12-06T22:10:11.9512046+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_ChiTietNuocUong_MaNuoc] ON [ChiTietNuocUong] ([MaNuoc]);"
2023-12-06T22:10:11.9523955+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_ChiTietPhuThuDichVu_MaDichVuTinhPhi] ON [ChiTietPhuThuDichVu] ([MaDichVuTinhPhi]);"
2023-12-06T22:10:11.9533973+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_ChiTietPhuThuMonAn_MaMonAn] ON [ChiTietPhuThuMonAn] ([MaMonAn]);"
2023-12-06T22:10:11.9553573+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_ChiTietPhuThuNuoc_MaNuoc] ON [ChiTietPhuThuNuoc] ([MaNuoc]);"
2023-12-06T22:10:12.0103113+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("55"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_DanhGia_MaKhachHang] ON [DanhGia] ([MaKhachHang]);"
2023-12-06T22:10:12.0114854+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_DatTiec_MaKhachHang] ON [DatTiec] ([MaKhachHang]);"
2023-12-06T22:10:12.0124893+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_DichVu_MaLoaiDichVu] ON [DichVu] ([MaLoaiDichVu]);"
2023-12-06T22:10:12.0136357+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_DichVuTinhPhi_MaDichVu] ON [DichVuTinhPhi] ([MaDichVu]);"
2023-12-06T22:10:12.0146799+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_DichVuUuDai_MaDichVu] ON [DichVuUuDai] ([MaDichVu]);"
2023-12-06T22:10:12.0162278+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE UNIQUE INDEX [IX_HoaDon_MaTiec] ON [HoaDon] ([MaTiec]);"
2023-12-06T22:10:12.0173162+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_LichSanhTiec_MaSanh] ON [LichSanhTiec] ([MaSanh]);"
2023-12-06T22:10:12.0422129+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("25"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_MonAn_MaLoaiMonAn] ON [MonAn] ([MaLoaiMonAn]);"
2023-12-06T22:10:12.0580015+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("16"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_MonAnTrongMenu_MaMonAn] ON [MonAnTrongMenu] ([MaMonAn]);"
2023-12-06T22:10:12.0587805+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_NhanVienTrongTiec_MaNhanVien] ON [NhanVienTrongTiec] ([MaNhanVien]);"
2023-12-06T22:10:12.0595218+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_Nuoc_MaLoaiNuoc] ON [Nuoc] ([MaLoaiNuoc]);"
2023-12-06T22:10:14.1218291+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_PhuThu_MaHoaDon] ON [PhuThu] ([MaHoaDon]);"
2023-12-06T22:10:14.1228217+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_RefreshToken_StrTokenIDToken] ON [RefreshToken] ([StrTokenIDToken]);"
2023-12-06T22:10:14.1241547+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""CREATE INDEX [IX_RefreshToken_userName] ON [RefreshToken] ([userName]);"
2023-12-06T22:10:14.1650970+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("41"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231206150946_UpdateDB', N'7.0.9');"
2023-12-06T23:00:23.9726499+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""SELECT 1"
2023-12-06T23:00:24.0381578+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2023-12-06T23:00:24.0408668+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""SELECT 1"
2023-12-06T23:00:24.0412795+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2023-12-06T23:00:24.0615391+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2023-12-06T23:00:24.0767018+07:00 [INF] (Microsoft.EntityFrameworkCore.Migrations) Applying migration '"20231206160014_UpdateDB1"'.
2023-12-06T23:00:24.3195626+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("173"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[KhachHang]') AND [c].[name] = N'MatKhau');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [KhachHang] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [KhachHang] DROP COLUMN [MatKhau];"
2023-12-06T23:00:24.5556934+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("235"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""ALTER TABLE [NhanVien] ADD [MatKhau] nvarchar(max) NOT NULL DEFAULT N'';"
2023-12-06T23:00:24.5626345+07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='1200']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231206160014_UpdateDB1', N'7.0.9');"
